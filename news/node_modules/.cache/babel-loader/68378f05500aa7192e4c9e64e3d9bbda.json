{"ast":null,"code":"import { useRef } from 'react';\nimport raf from \"rc-util/es/raf\";\nimport isFF from '../utils/isFirefox';\nimport useOriginScroll from './useOriginScroll';\nexport default function useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, onWheelDelta) {\n  var offsetRef = useRef(0);\n  var nextFrameRef = useRef(null); // Firefox patch\n\n  var wheelValueRef = useRef(null);\n  var isMouseScrollRef = useRef(false); // Scroll status sync\n\n  var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n\n  function onWheel(event) {\n    if (!inVirtual) return;\n    raf.cancel(nextFrameRef.current);\n    var deltaY = event.deltaY;\n    offsetRef.current += deltaY;\n    wheelValueRef.current = deltaY; // Do nothing when scroll at the edge, Skip check when is in scroll\n\n    if (originScroll(deltaY)) return; // Proxy of scroll events\n\n    if (!isFF) {\n      event.preventDefault();\n    }\n\n    nextFrameRef.current = raf(function () {\n      // Patch a multiple for Firefox to fix wheel number too small\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\n      var patchMultiple = isMouseScrollRef.current ? 10 : 1;\n      onWheelDelta(offsetRef.current * patchMultiple);\n      offsetRef.current = 0;\n    });\n  } // A patch for firefox\n\n\n  function onFireFoxScroll(event) {\n    if (!inVirtual) return;\n    isMouseScrollRef.current = event.detail === wheelValueRef.current;\n  }\n\n  return [onWheel, onFireFoxScroll];\n}","map":{"version":3,"names":["useRef","raf","isFF","useOriginScroll","useFrameWheel","inVirtual","isScrollAtTop","isScrollAtBottom","onWheelDelta","offsetRef","nextFrameRef","wheelValueRef","isMouseScrollRef","originScroll","onWheel","event","cancel","current","deltaY","preventDefault","patchMultiple","onFireFoxScroll","detail"],"sources":["C:/xampp/htdocs/project7-1/news/node_modules/rc-virtual-list/es/hooks/useFrameWheel.js"],"sourcesContent":["import { useRef } from 'react';\r\nimport raf from \"rc-util/es/raf\";\r\nimport isFF from '../utils/isFirefox';\r\nimport useOriginScroll from './useOriginScroll';\r\nexport default function useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, onWheelDelta) {\r\n  var offsetRef = useRef(0);\r\n  var nextFrameRef = useRef(null); // Firefox patch\r\n\r\n  var wheelValueRef = useRef(null);\r\n  var isMouseScrollRef = useRef(false); // Scroll status sync\r\n\r\n  var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\r\n\r\n  function onWheel(event) {\r\n    if (!inVirtual) return;\r\n    raf.cancel(nextFrameRef.current);\r\n    var deltaY = event.deltaY;\r\n    offsetRef.current += deltaY;\r\n    wheelValueRef.current = deltaY; // Do nothing when scroll at the edge, Skip check when is in scroll\r\n\r\n    if (originScroll(deltaY)) return; // Proxy of scroll events\r\n\r\n    if (!isFF) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    nextFrameRef.current = raf(function () {\r\n      // Patch a multiple for Firefox to fix wheel number too small\r\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\r\n      var patchMultiple = isMouseScrollRef.current ? 10 : 1;\r\n      onWheelDelta(offsetRef.current * patchMultiple);\r\n      offsetRef.current = 0;\r\n    });\r\n  } // A patch for firefox\r\n\r\n\r\n  function onFireFoxScroll(event) {\r\n    if (!inVirtual) return;\r\n    isMouseScrollRef.current = event.detail === wheelValueRef.current;\r\n  }\r\n\r\n  return [onWheel, onFireFoxScroll];\r\n}"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,eAAe,SAASC,aAAT,CAAuBC,SAAvB,EAAkCC,aAAlC,EAAiDC,gBAAjD,EAAmEC,YAAnE,EAAiF;EAC9F,IAAIC,SAAS,GAAGT,MAAM,CAAC,CAAD,CAAtB;EACA,IAAIU,YAAY,GAAGV,MAAM,CAAC,IAAD,CAAzB,CAF8F,CAE7D;;EAEjC,IAAIW,aAAa,GAAGX,MAAM,CAAC,IAAD,CAA1B;EACA,IAAIY,gBAAgB,GAAGZ,MAAM,CAAC,KAAD,CAA7B,CAL8F,CAKxD;;EAEtC,IAAIa,YAAY,GAAGV,eAAe,CAACG,aAAD,EAAgBC,gBAAhB,CAAlC;;EAEA,SAASO,OAAT,CAAiBC,KAAjB,EAAwB;IACtB,IAAI,CAACV,SAAL,EAAgB;IAChBJ,GAAG,CAACe,MAAJ,CAAWN,YAAY,CAACO,OAAxB;IACA,IAAIC,MAAM,GAAGH,KAAK,CAACG,MAAnB;IACAT,SAAS,CAACQ,OAAV,IAAqBC,MAArB;IACAP,aAAa,CAACM,OAAd,GAAwBC,MAAxB,CALsB,CAKU;;IAEhC,IAAIL,YAAY,CAACK,MAAD,CAAhB,EAA0B,OAPJ,CAOY;;IAElC,IAAI,CAAChB,IAAL,EAAW;MACTa,KAAK,CAACI,cAAN;IACD;;IAEDT,YAAY,CAACO,OAAb,GAAuBhB,GAAG,CAAC,YAAY;MACrC;MACA;MACA,IAAImB,aAAa,GAAGR,gBAAgB,CAACK,OAAjB,GAA2B,EAA3B,GAAgC,CAApD;MACAT,YAAY,CAACC,SAAS,CAACQ,OAAV,GAAoBG,aAArB,CAAZ;MACAX,SAAS,CAACQ,OAAV,GAAoB,CAApB;IACD,CANyB,CAA1B;EAOD,CA7B6F,CA6B5F;;;EAGF,SAASI,eAAT,CAAyBN,KAAzB,EAAgC;IAC9B,IAAI,CAACV,SAAL,EAAgB;IAChBO,gBAAgB,CAACK,OAAjB,GAA2BF,KAAK,CAACO,MAAN,KAAiBX,aAAa,CAACM,OAA1D;EACD;;EAED,OAAO,CAACH,OAAD,EAAUO,eAAV,CAAP;AACD"},"metadata":{},"sourceType":"module"}