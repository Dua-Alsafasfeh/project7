{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n/* eslint-disable react/default-props-match-prop-types, react/no-multi-comp, react/prop-types */\n\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport { fillRef, supportRef } from \"rc-util/es/ref\";\nimport classNames from 'classnames';\nimport { getTransitionName, supportTransition } from './util/motion';\nimport { STATUS_NONE, STEP_PREPARE, STEP_START } from './interface';\nimport useStatus from './hooks/useStatus';\nimport DomWrapper from './DomWrapper';\nimport { isActive } from './hooks/useStepQueue';\n/**\r\n * `transitionSupport` is used for none transition test case.\r\n * Default we use browser transition event support check.\r\n */\n\nexport function genCSSMotion(config) {\n  var transitionSupport = config;\n\n  if (_typeof(config) === 'object') {\n    transitionSupport = config.transitionSupport;\n  }\n\n  function isSupportTransition(props) {\n    return !!(props.motionName && transitionSupport);\n  }\n\n  var CSSMotion = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _props$visible = props.visible,\n        visible = _props$visible === void 0 ? true : _props$visible,\n        _props$removeOnLeave = props.removeOnLeave,\n        removeOnLeave = _props$removeOnLeave === void 0 ? true : _props$removeOnLeave,\n        forceRender = props.forceRender,\n        children = props.children,\n        motionName = props.motionName,\n        leavedClassName = props.leavedClassName,\n        eventProps = props.eventProps;\n    var supportMotion = isSupportTransition(props); // Ref to the react node, it may be a HTMLElement\n\n    var nodeRef = useRef(); // Ref to the dom wrapper in case ref can not pass to HTMLElement\n\n    var wrapperNodeRef = useRef();\n\n    function getDomElement() {\n      try {\n        // Here we're avoiding call for findDOMNode since it's deprecated\n        // in strict mode. We're calling it only when node ref is not\n        // an instance of DOM HTMLElement. Otherwise use\n        // findDOMNode as a final resort\n        return nodeRef.current instanceof HTMLElement ? nodeRef.current : findDOMNode(wrapperNodeRef.current);\n      } catch (e) {\n        // Only happen when `motionDeadline` trigger but element removed.\n        return null;\n      }\n    }\n\n    var _useStatus = useStatus(supportMotion, visible, getDomElement, props),\n        _useStatus2 = _slicedToArray(_useStatus, 4),\n        status = _useStatus2[0],\n        statusStep = _useStatus2[1],\n        statusStyle = _useStatus2[2],\n        mergedVisible = _useStatus2[3]; // Record whether content has rendered\n    // Will return null for un-rendered even when `removeOnLeave={false}`\n\n\n    var renderedRef = React.useRef(mergedVisible);\n\n    if (mergedVisible) {\n      renderedRef.current = true;\n    } // ====================== Refs ======================\n\n\n    var setNodeRef = React.useCallback(function (node) {\n      nodeRef.current = node;\n      fillRef(ref, node);\n    }, [ref]); // ===================== Render =====================\n\n    var motionChildren;\n\n    var mergedProps = _objectSpread(_objectSpread({}, eventProps), {}, {\n      visible: visible\n    });\n\n    if (!children) {\n      // No children\n      motionChildren = null;\n    } else if (status === STATUS_NONE || !isSupportTransition(props)) {\n      // Stable children\n      if (mergedVisible) {\n        motionChildren = children(_objectSpread({}, mergedProps), setNodeRef);\n      } else if (!removeOnLeave && renderedRef.current) {\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n          className: leavedClassName\n        }), setNodeRef);\n      } else if (forceRender) {\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n          style: {\n            display: 'none'\n          }\n        }), setNodeRef);\n      } else {\n        motionChildren = null;\n      }\n    } else {\n      var _classNames; // In motion\n\n\n      var statusSuffix;\n\n      if (statusStep === STEP_PREPARE) {\n        statusSuffix = 'prepare';\n      } else if (isActive(statusStep)) {\n        statusSuffix = 'active';\n      } else if (statusStep === STEP_START) {\n        statusSuffix = 'start';\n      }\n\n      motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n        className: classNames(getTransitionName(motionName, status), (_classNames = {}, _defineProperty(_classNames, getTransitionName(motionName, \"\".concat(status, \"-\").concat(statusSuffix)), statusSuffix), _defineProperty(_classNames, motionName, typeof motionName === 'string'), _classNames)),\n        style: statusStyle\n      }), setNodeRef);\n    } // Auto inject ref if child node not have `ref` props\n\n\n    if ( /*#__PURE__*/React.isValidElement(motionChildren) && supportRef(motionChildren)) {\n      var _motionChildren = motionChildren,\n          originNodeRef = _motionChildren.ref;\n\n      if (!originNodeRef) {\n        motionChildren = /*#__PURE__*/React.cloneElement(motionChildren, {\n          ref: setNodeRef\n        });\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(DomWrapper, {\n      ref: wrapperNodeRef\n    }, motionChildren);\n  });\n  CSSMotion.displayName = 'CSSMotion';\n  return CSSMotion;\n}\nexport default genCSSMotion(supportTransition);","map":{"version":3,"names":["_defineProperty","_objectSpread","_slicedToArray","_typeof","React","useRef","findDOMNode","fillRef","supportRef","classNames","getTransitionName","supportTransition","STATUS_NONE","STEP_PREPARE","STEP_START","useStatus","DomWrapper","isActive","genCSSMotion","config","transitionSupport","isSupportTransition","props","motionName","CSSMotion","forwardRef","ref","_props$visible","visible","_props$removeOnLeave","removeOnLeave","forceRender","children","leavedClassName","eventProps","supportMotion","nodeRef","wrapperNodeRef","getDomElement","current","HTMLElement","e","_useStatus","_useStatus2","status","statusStep","statusStyle","mergedVisible","renderedRef","setNodeRef","useCallback","node","motionChildren","mergedProps","className","style","display","_classNames","statusSuffix","concat","isValidElement","_motionChildren","originNodeRef","cloneElement","createElement","displayName"],"sources":["C:/xampp/htdocs/project7-1/news/node_modules/rc-motion/es/CSSMotion.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\r\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\r\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\r\n\r\n/* eslint-disable react/default-props-match-prop-types, react/no-multi-comp, react/prop-types */\r\nimport * as React from 'react';\r\nimport { useRef } from 'react';\r\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\r\nimport { fillRef, supportRef } from \"rc-util/es/ref\";\r\nimport classNames from 'classnames';\r\nimport { getTransitionName, supportTransition } from './util/motion';\r\nimport { STATUS_NONE, STEP_PREPARE, STEP_START } from './interface';\r\nimport useStatus from './hooks/useStatus';\r\nimport DomWrapper from './DomWrapper';\r\nimport { isActive } from './hooks/useStepQueue';\r\n/**\r\n * `transitionSupport` is used for none transition test case.\r\n * Default we use browser transition event support check.\r\n */\r\n\r\nexport function genCSSMotion(config) {\r\n  var transitionSupport = config;\r\n\r\n  if (_typeof(config) === 'object') {\r\n    transitionSupport = config.transitionSupport;\r\n  }\r\n\r\n  function isSupportTransition(props) {\r\n    return !!(props.motionName && transitionSupport);\r\n  }\r\n\r\n  var CSSMotion = /*#__PURE__*/React.forwardRef(function (props, ref) {\r\n    var _props$visible = props.visible,\r\n        visible = _props$visible === void 0 ? true : _props$visible,\r\n        _props$removeOnLeave = props.removeOnLeave,\r\n        removeOnLeave = _props$removeOnLeave === void 0 ? true : _props$removeOnLeave,\r\n        forceRender = props.forceRender,\r\n        children = props.children,\r\n        motionName = props.motionName,\r\n        leavedClassName = props.leavedClassName,\r\n        eventProps = props.eventProps;\r\n    var supportMotion = isSupportTransition(props); // Ref to the react node, it may be a HTMLElement\r\n\r\n    var nodeRef = useRef(); // Ref to the dom wrapper in case ref can not pass to HTMLElement\r\n\r\n    var wrapperNodeRef = useRef();\r\n\r\n    function getDomElement() {\r\n      try {\r\n        // Here we're avoiding call for findDOMNode since it's deprecated\r\n        // in strict mode. We're calling it only when node ref is not\r\n        // an instance of DOM HTMLElement. Otherwise use\r\n        // findDOMNode as a final resort\r\n        return nodeRef.current instanceof HTMLElement ? nodeRef.current : findDOMNode(wrapperNodeRef.current);\r\n      } catch (e) {\r\n        // Only happen when `motionDeadline` trigger but element removed.\r\n        return null;\r\n      }\r\n    }\r\n\r\n    var _useStatus = useStatus(supportMotion, visible, getDomElement, props),\r\n        _useStatus2 = _slicedToArray(_useStatus, 4),\r\n        status = _useStatus2[0],\r\n        statusStep = _useStatus2[1],\r\n        statusStyle = _useStatus2[2],\r\n        mergedVisible = _useStatus2[3]; // Record whether content has rendered\r\n    // Will return null for un-rendered even when `removeOnLeave={false}`\r\n\r\n\r\n    var renderedRef = React.useRef(mergedVisible);\r\n\r\n    if (mergedVisible) {\r\n      renderedRef.current = true;\r\n    } // ====================== Refs ======================\r\n\r\n\r\n    var setNodeRef = React.useCallback(function (node) {\r\n      nodeRef.current = node;\r\n      fillRef(ref, node);\r\n    }, [ref]); // ===================== Render =====================\r\n\r\n    var motionChildren;\r\n\r\n    var mergedProps = _objectSpread(_objectSpread({}, eventProps), {}, {\r\n      visible: visible\r\n    });\r\n\r\n    if (!children) {\r\n      // No children\r\n      motionChildren = null;\r\n    } else if (status === STATUS_NONE || !isSupportTransition(props)) {\r\n      // Stable children\r\n      if (mergedVisible) {\r\n        motionChildren = children(_objectSpread({}, mergedProps), setNodeRef);\r\n      } else if (!removeOnLeave && renderedRef.current) {\r\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\r\n          className: leavedClassName\r\n        }), setNodeRef);\r\n      } else if (forceRender) {\r\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\r\n          style: {\r\n            display: 'none'\r\n          }\r\n        }), setNodeRef);\r\n      } else {\r\n        motionChildren = null;\r\n      }\r\n    } else {\r\n      var _classNames;\r\n\r\n      // In motion\r\n      var statusSuffix;\r\n\r\n      if (statusStep === STEP_PREPARE) {\r\n        statusSuffix = 'prepare';\r\n      } else if (isActive(statusStep)) {\r\n        statusSuffix = 'active';\r\n      } else if (statusStep === STEP_START) {\r\n        statusSuffix = 'start';\r\n      }\r\n\r\n      motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\r\n        className: classNames(getTransitionName(motionName, status), (_classNames = {}, _defineProperty(_classNames, getTransitionName(motionName, \"\".concat(status, \"-\").concat(statusSuffix)), statusSuffix), _defineProperty(_classNames, motionName, typeof motionName === 'string'), _classNames)),\r\n        style: statusStyle\r\n      }), setNodeRef);\r\n    } // Auto inject ref if child node not have `ref` props\r\n\r\n\r\n    if ( /*#__PURE__*/React.isValidElement(motionChildren) && supportRef(motionChildren)) {\r\n      var _motionChildren = motionChildren,\r\n          originNodeRef = _motionChildren.ref;\r\n\r\n      if (!originNodeRef) {\r\n        motionChildren = /*#__PURE__*/React.cloneElement(motionChildren, {\r\n          ref: setNodeRef\r\n        });\r\n      }\r\n    }\r\n\r\n    return /*#__PURE__*/React.createElement(DomWrapper, {\r\n      ref: wrapperNodeRef\r\n    }, motionChildren);\r\n  });\r\n  CSSMotion.displayName = 'CSSMotion';\r\n  return CSSMotion;\r\n}\r\nexport default genCSSMotion(supportTransition);"],"mappings":"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"},"metadata":{},"sourceType":"module"}